<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AquaTrace AI - Marine Species Identification</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style/style.css') }}">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        /* Enhanced scrollable content */
        body {
            overflow-x: hidden;
            margin: 0;
            padding: 0;
            font-family: 'Poppins', sans-serif;
            background: #0a192f;
            color: white;
            line-height: 1.6;
        }
        
        

        /* Light mode styles */
       body {
    /* A solid dark color, or keep it transparent for the image */
    background: #0a192f;
    /* The main color from your original code */
        .hero-title {
            color: #0891b2;
            text-shadow: 0 2px 10px rgba(8, 145, 178, 0.3);
        }

        .hero-subtitle {
            font-size: 1.3rem;
            color: rgba(255, 255, 255, 0.95);
            margin-bottom: 30px;
            line-height: 1.6;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
        }

        .discover-btn {
            background: linear-gradient(135deg, #0891b2, #0e7490);
        }

        

        .content h1,
        .content h2,
        .content h3 {
            color: #0891b2;
        }

        .content p {
            color: rgba(255, 255, 255, 0.9);
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
        }
        
        .hero-section {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            position: relative;
            margin-top: 70px; /* Add space below navbar */
        }
        
        .hero-content {
            max-width: 800px;
            padding: 40px;
        }
        
        .hero-title {
            font-size: 3.5rem;
            font-weight: 700;
            margin-bottom: 20px;
            color: #E8F4FD;
            text-shadow: 0 2px 10px rgba(232, 244, 253, 0.3);
        }
        
        .hero-subtitle {
            font-size: 1.3rem;
            color: rgba(255, 255, 255, 0.95);
            margin-bottom: 30px;
            line-height: 1.6;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
        }
        
        .discover-btn {
            background: linear-gradient(135deg, #1F4068, #2E5A8A);
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 1.1rem;
            font-weight: 600;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-bottom: 30px;
        }
        
        .discover-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 35px rgba(31, 64, 104, 0.4);
            background: linear-gradient(135deg, #2E5A8A, #1F4068);
        }
        
        .flash-messages {
            position: fixed;
            top: 80px;
            right: 20px;
            z-index: 1000;
        }
        
        .flash-message {
            background: rgba(34, 197, 94, 0.9);
            color: white;
            padding: 15px 20px;
            border-radius: 10px;
            margin-bottom: 10px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(34, 197, 94, 0.3);
            box-shadow: 0 8px 25px rgba(0,0,0,0.2);
        }
        
        .flash-message.error {
            background: rgba(239, 68, 68, 0.9);
            border: 1px solid rgba(239, 68, 68, 0.3);
        }
        
        .upload-section {
            background: transparent;
            backdrop-filter: blur(100px);
            border-radius: 20px;
            padding: 40px;
            margin: 30px 0;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .upload-box {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
            margin-top: 20px;
        }
        
        .interactive-features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin: 40px 0;
        }
        
        .feature-card {
            background: rgba(255, 255, 255, 0.08);
            
            border-radius: 20px;
            padding: 30px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            text-align: center;
            transition: transform 0.3s ease;
            cursor: pointer;
        }
        
        .feature-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 40px rgba(0, 212, 255, 0.2);
        }
        
        .feature-icon {
            font-size: 3rem;
            margin-bottom: 20px;
        }
        
        .feature-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: white;
            margin-bottom: 15px;
        }
        
        .feature-description {
            color: rgba(255, 255, 255, 0.8);
            margin-bottom: 20px;
            line-height: 1.6;
        }
        
        .quiz-container {
            background: rgba(0, 0, 0, 0.8);
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 2000;
            display: none;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(10px);
        }
        
        .quiz-content {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            padding: 40px;
            max-width: 600px;
            width: 90%;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .quiz-question {
            font-size: 1.3rem;
            color: white;
            margin-bottom: 30px;
            text-align: center;
        }
        
        .quiz-options {
            display: grid;
            gap: 15px;
        }
        
        .quiz-option {
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 15px;
            padding: 15px 20px;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: left;
        }
        
        .quiz-option:hover {
            background: rgba(0, 212, 255, 0.2);
            border-color: rgba(0, 212, 255, 0.5);
            transform: translateX(10px);
        }
        
        .quiz-option.correct {
            background: rgba(34, 197, 94, 0.3);
            border-color: rgba(34, 197, 94, 0.6);
        }
        
        .quiz-option.incorrect {
            background: rgba(239, 68, 68, 0.3);
            border-color: rgba(239, 68, 68, 0.6);
        }
        
        .quiz-score {
            text-align: center;
            color: white;
            font-size: 1.2rem;
            margin-bottom: 20px;
        }
        
        .quiz-close {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(239, 68, 68, 0.8);
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.2rem;
        }
        
        
        
        
        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        @keyframes slideOut {
            from { transform: translateX(0); opacity: 1; }
            to { transform: translateX(100%); opacity: 0; }
        }
        
        .file-upload-area {
            width: 100%;
            max-width: 400px;
            height: 200px;
            border: 2px dashed rgba(255, 255, 255, 0.3);
            border-radius: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            cursor: pointer;
            transition: all 0.3s ease;
            background: rgba(255, 255, 255, 0.05);
        }
        
        .file-upload-area:hover {
            border-color: #00d4ff;
            background: rgba(0, 212, 255, 0.1);
        }
        
        .file-upload-area.dragover {
            border-color: #00d4ff;
            background: rgba(0, 212, 255, 0.2);
        }
        
        .upload-icon {
            font-size: 3rem;
            margin-bottom: 15px;
            color: #00d4ff;
        }
        
        .upload-text {
            color: rgba(255, 255, 255, 0.8);
            text-align: center;
        }
        
        .features-section {
            padding: 80px 0;
            background: rgba(0, 0, 0, 0.3);
        }
        
        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-top: 40px;
        }
        
        .feature-card {
            background: rgba(255, 255, 255, 0.08);
            backdrop-filter: blur(12px);
            border-radius: 16px;
            padding: 30px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            text-align: center;
        }
        
        .feature-card:hover {
            transform: translateY(-10px);
        }
        
        .feature-icon {
            font-size: 3rem;
            margin-bottom: 20px;
        }
        
        .feature-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: #00d4ff;
        }
        
        .feature-description {
            color: rgba(255, 255, 255, 0.8);
            line-height: 1.6;
        }
        
        .stats-section {
            padding: 60px 0;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 30px;
            margin-top: 40px;
        }
        
        .stat-card {
            background: rgba(255, 255, 255, 0.08);
            backdrop-filter: blur(12px);
            border-radius: 16px;
            padding: 30px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .stat-number {
            font-size: 3rem;
            font-weight: 700;
            color: #00d4ff;
            margin-bottom: 10px;
        }
        
        .stat-label {
            color: rgba(255, 255, 255, 0.8);
            font-size: 1.1rem;
        }
        
        .conservation-section {
            padding: 80px 0;
            background: rgba(0, 212, 255, 0.1);
        }
        
        .conservation-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 50px;
            align-items: center;
        }
        
        .conservation-text {
            color: rgba(255, 255, 255, 0.95);
            line-height: 1.8;
            text-shadow: 0 2px 10px rgba(255, 255, 255, 0.1);
        }
        
        .conservation-text h3 {
            color: #53c2d8;
            margin-bottom: 20px;
            font-size: 1.8rem;
        }
        
        .conservation-image {
            text-align: center;
            font-size: 8rem;
        }
        
        .technology-section {
            padding: 80px 0;
        }
        
        .tech-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 30px;
            margin-top: 40px;
        }
        
        .tech-card {
            background: rgba(255, 255, 255, 0.08);
            backdrop-filter: blur(12px);
            border-radius: 16px;
            padding: 25px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            text-align: center;
        }
        
        .tech-icon {
            font-size: 2.5rem;
            margin-bottom: 15px;
        }
        
        .tech-title {
            font-weight: 600;
            margin-bottom: 10px;
            color: #00d4ff;
        }
        
        .tech-description {
            color: rgba(255, 255, 255, 0.8);
            font-size: 0.9rem;
        }
        
        .cta-section {
            padding: 80px 0;
            text-align: center;
            background: linear-gradient(135deg, rgba(0, 212, 255, 0.1), rgba(0, 153, 204, 0.1));
        }
        
        .cta-button {
            display: inline-block;
            padding: 18px 40px;
            background: linear-gradient(135deg, #00d4ff, #0099cc);
            color: white;
            text-decoration: none;
            border-radius: 50px;
            font-weight: 600;
            font-size: 1.1rem;
            transition: all 0.3s ease;
            margin-top: 30px;
        }
        
        .cta-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(0, 212, 255, 0.3);
        }
        
        
            
            .conservation-content {
                grid-template-columns: 1fr;
                gap: 30px;
            }
            
            .conservation-image {
                font-size: 5rem;
            }
        
        
        .bg-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(1, 30, 86, 0.466); /* Matched to reference image */
            z-index: 1;
        }
        
        /* Shiny Glittery AquaTrace Name Effects */
        .logo {
            color: white;
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.8), 0 0 20px rgba(255, 255, 255, 0.6), 0 0 30px rgba(255, 255, 255, 0.4);
            font-weight: 700;
            letter-spacing: 1px;
        }
        
        /* Enhanced glittery effect for other AquaTrace mentions */
        h2:contains("AquaTrace"), 
        footer:contains("AquaTrace") {
            color: white;
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.6);
        }
        
        /* Navbar styles */
        nav {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            padding: 20px 60px;
            z-index: 1000;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: rgba(0, 0, 43, 0.5);
            backdrop-filter: blur(10px);
            font-family: 'Poppins', sans-serif;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .logo {
            font-size: 1.5rem;
            font-weight: 700;
            color: #ffffff;
            text-decoration: none;
            letter-spacing: 0.5px;
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.8), 0 0 20px rgba(255, 255, 255, 0.6), 0 0 30px rgba(255, 255, 255, 0.4);
        }

        .nav-toggle {
            display: none;
            background: transparent;
            border: none;
            cursor: pointer;
            padding: 0.5em;
            margin: 0;
        }

        .hamburger {
            display: block;
            position: relative;
        }

        .hamburger,
        .hamburger::before,
        .hamburger::after {
            width: 2em;
            height: 3px;
            background: white;
            transition: transform 0.3s ease;
        }

        .hamburger::before,
        .hamburger::after {
            content: '';
            position: absolute;
            left: 0;
        }

        .hamburger::before { top: -8px; }
        .hamburger::after { bottom: -8px; }

        .nav-toggle.nav-open .hamburger {
            transform: rotate(45deg);
        }

        .nav-toggle.nav-open .hamburger::before {
            transform: rotate(90deg) translate(8px);
        }

        .nav-toggle.nav-open .hamburger::after {
            opacity: 0;
        }

        .nav-links {
            display: flex;
            gap: 40px;
            align-items: center;
        }

        .nav-links a {
            color: white;
            text-decoration: none;
            font-weight: 400;
            font-size: 0.99rem;
            letter-spacing: 1px;
            font-family: inherit;
            position: relative;
            padding: 5px 0;
            transition: color 0.3s ease;
        }

        .nav-links a::after {
            content: '';
            position: absolute;
            width: 0;
            height: 2px;
            bottom: -5px;
            left: 50%;
            transform: translateX(-50%);
            background-color: #ffffff;
            transition: width 0.3s ease;
        }

        .nav-links a:hover::after {
            width: 100%;
        }

        .nav-links a.active {
            font-weight: 600;
        }

        .nav-links a.active::after {
            width: 100%;
            background-color: #00d4ff;
            box-shadow: 0 0 5px #00d4ff, 0 0 15px #00d4ff;
        }

        /* MOBILE RESPONSIVE IMPROVEMENTS */
        @media (max-width: 768px) {
            /* Enhanced mobile navigation */
            nav {
                padding: 1rem;
                height: auto;
                min-height: 70px;
            }

            .nav-toggle {
                display: block;
                z-index: 1001;
            }

            .nav-links {
                position: fixed;
                background: rgba(0, 0, 43, 0.98);
                backdrop-filter: blur(15px);
                top: 0;
                right: 0;
                width: 100%;
                max-width: 320px;
                height: 100vh;
                padding: 6rem 2rem 2rem;
                flex-direction: column;
                gap: 1.5rem;
                transform: translateX(100%);
                transition: transform 0.3s ease-out;
                border-left: 2px solid rgba(0, 212, 255, 0.3);
            }

            .nav-links.nav-open {
                transform: translateX(0);
            }

            .nav-links a {
                font-size: 1.2rem;
                width: 100%;
                text-align: center;
                padding: 15px;
                border-radius: 10px;
                background: rgba(0, 30, 60, 0.3);
                border: 1px solid rgba(0, 212, 255, 0.2);
                transition: all 0.3s ease;
                display: block;
                text-decoration: none;
                color: #e1f5fe;
                font-weight: 500;
            }

            .nav-links a:hover {
                background: rgba(0, 212, 255, 0.2);
                color: #00d4ff;
                transform: scale(1.05);
                text-decoration: none;
            }

            .nav-links a.active {
                background: rgba(0, 212, 255, 0.3);
                color: #00d4ff;
                border-color: rgba(0, 212, 255, 0.5);
            }

            .nav-links a::after {
                display: none;
            }

            /* Hero section mobile */
            .hero-section {
                margin-top: 80px;
                padding: 20px;
            }

            .hero-content {
                max-width: 100%;
                padding: 20px;
            }

            .hero-title {
                font-size: 2.2rem;
                margin-bottom: 15px;
            }

            .hero-subtitle {
                font-size: 1.1rem;
                margin-bottom: 20px;
            }

            .discover-btn {
                padding: 12px 25px;
                font-size: 1rem;
                width: 100%;
                max-width: 300px;
            }

            /* Upload section mobile */
            .upload-section {
                padding: 20px;
                margin: 20px 0;
            }

            .upload-box {
                flex-direction: column;
                gap: 15px;
            }

            .file-upload-area {
                width: 100%;
                height: 180px;
                padding: 20px;
            }

            .upload-icon {
                font-size: 2.5rem;
            }

            .upload-text {
                font-size: 0.9rem;
            }

            /* Interactive features mobile */
            .interactive-features {
                grid-template-columns: 1fr;
                gap: 20px;
            }

            .feature-card {
                padding: 20px;
            }

            .feature-icon {
                font-size: 2.5rem;
            }

            .feature-title {
                font-size: 1.3rem;
            }

            /* Features section mobile */
            .features-grid {
                grid-template-columns: 1fr;
                gap: 20px;
            }

            /* Stats section mobile */
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 15px;
            }

            .stat-card {
                padding: 20px;
            }

            .stat-number {
                font-size: 2rem;
            }

            .stat-label {
                font-size: 0.9rem;
            }

            /* Conservation section mobile */
            .conservation-content {
                grid-template-columns: 1fr;
                gap: 20px;
                text-align: center;
            }

            .conservation-text h3 {
                font-size: 1.5rem;
            }

            .conservation-image {
                font-size: 4rem;
            }

            /* Technology section mobile */
            .tech-grid {
                grid-template-columns: 1fr;
                gap: 20px;
            }

            .tech-card {
                padding: 20px;
            }

            .tech-icon {
                font-size: 2rem;
            }

            .tech-title {
                font-size: 1.2rem;
            }

            /* CTA section mobile */
            .cta-section {
                padding: 40px 20px;
                text-align: center;
            }

            .cta-button {
                padding: 15px 30px;
                font-size: 1rem;
                width: 100%;
                max-width: 300px;
            }

            /* Quiz container mobile */
            .quiz-container {
                padding: 20px;
            }

            .quiz-content {
                padding: 20px;
                max-width: 100%;
                width: 95%;
            }

            .quiz-question {
                font-size: 1.1rem;
            }

            .quiz-options {
                gap: 10px;
            }

            .quiz-option {
                padding: 12px 15px;
                font-size: 0.9rem;
            }

            /* Footer mobile */
            footer {
                padding: 20px;
                font-size: 0.9rem;
            }
        }

        @media (max-width: 480px) {
            /* Extra small screens */
            .hero-title {
                font-size: 1.8rem;
            }

            .hero-subtitle {
                font-size: 1rem;
            }

            .discover-btn {
                padding: 10px 20px;
                font-size: 0.9rem;
            }

            .upload-section {
                padding: 15px;
            }

            .file-upload-area {
                height: 150px;
                padding: 15px;
            }

            .upload-icon {
                font-size: 2rem;
            }

            .feature-card {
                padding: 15px;
            }

            .feature-icon {
                font-size: 2rem;
            }

            .feature-title {
                font-size: 1.2rem;
            }

            .stat-card {
                padding: 15px;
            }

            .stat-number {
                font-size: 1.8rem;
            }

            .conservation-image {
                font-size: 3rem;
            }

            .tech-card {
                padding: 15px;
            }

            .cta-button {
                padding: 12px 25px;
                font-size: 0.9rem;
            }

            .logo {
                font-size: 1.2rem;
            }

            .nav-links {
                max-width: 100%;
                padding: 5rem 1.5rem 2rem;
            }

            .nav-links a {
                font-size: 1.1rem;
                padding: 12px;
            }

            .quiz-content {
                padding: 15px;
            }

            .quiz-question {
                font-size: 1rem;
            }
        }
       }
    </style>
</head>
<body>
    <!-- Background -->
    <div class="bg-wrap">
        <video autoplay muted loop class="bg-video">
            <source src="{{ url_for('static', filename='assets/dark1.mp4') }}" type="video/mp4">
        </video>
        <canvas id="dust-canvas"></canvas>
    </div>
    <!-- Navbar -->
    <nav>
        <div class="logo">🌊 AquaTrace AI</div>
        <button class="nav-toggle" aria-label="toggle navigation">
            <span class="hamburger"></span>
        </button>
        <div class="nav-links">
            <a href="{{ url_for('index') }}" {% if request.path == '/' %}class="active"{% endif %}>Home</a>
            <a href="{{ url_for('about') }}" {% if request.path == '/about' %}class="active"{% endif %}>About</a>
            <a href="{{ url_for('map_page') }}" {% if request.path == '/map' %}class="active"{% endif %}>Map</a>
            <a href="{{ url_for('dashboard') }}" {% if request.path == '/dashboard' %}class="active"{% endif %}>Dashboard</a>
            <a href="{{ url_for('profile') }}" {% if request.path == '/profile' %}class="active"{% endif %}>Profile</a>
            {% if current_user.is_authenticated %}
                <a href="{{ url_for('logout') }}">Logout</a>
            {% else %}
                <a href="{{ url_for('login') }}" {% if request.path == '/login' %}class="active"{% endif %}>Login</a>
            {% endif %}
        </div>
    </nav>

    <script>
        const navToggle = document.querySelector('.nav-toggle');
        const navLinks = document.querySelector('.nav-links');
        
        navToggle.addEventListener('click', () => {
            navLinks.classList.toggle('nav-open');
            navToggle.classList.toggle('nav-open');
        });
    </script>
    
    <!-- Flash Messages -->
    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            <div class="flash-messages">
                {% for category, message in messages %}
                    <div class="flash-message {{ category }}">{{ message }}</div>
                {% endfor %}
            </div>
        {% endif %}
    {% endwith %}
    
    <!-- Hero Section -->
    <section class="hero-section">
        <div class="hero-content">
            <h1 class="hero-title">🐠 Discover Amazing Sea Creatures!</h1>
            <p class="hero-subtitle">
                Upload a photo of any fish or sea animal and watch our smart AI tell you what it is! 
                Learn cool facts about dolphins, turtles, sharks, and more. Let's explore the ocean together! 🌊
            </p>
            
            <button onclick="scrollToUpload()" class="discover-btn">
                🔍 Start Exploring
            </button>
            
            <div class="upload-section">
                <h2>🔍 Find Out What Sea Creature This Is!</h2>
                <p>Take a picture or upload a photo - we'll tell you all about it!</p>
                
                <div class="upload-box">
                    <div class="file-upload-area" id="uploadArea">
                        <div class="upload-icon">📷</div>
                        <div class="upload-text">
                            <strong>Upload a picture of a sea animal</strong><br>
                            or drag and drop your photo here<br>
                            <small>JPG, PNG, or WEBP pictures work great!</small>
                        </div>
                    </div>
                    
                    <form action="/predict_web" method="POST" enctype="multipart/form-data" id="uploadForm">
                        <input type="file" name="file" id="imageUpload" accept="image/*" required style="display: none;">
                        <input type="hidden" name="latitude" id="latitude">
                        <input type="hidden" name="longitude" id="longitude">
                        <button type="submit" id="identifyBtn" style="display: none;">Identify Species</button>
                    </form>
                </div>
            </div>
        </div>
    </section>
    
    <!-- Interactive Features Section -->
    <section class="features-section">
        <div class="content">
            <h2>🎮 Fun Ocean Games & Activities</h2>
            <p>Play games, take quizzes, and learn about the ocean!</p>
            
            <div class="interactive-features">
                <div class="feature-card" onclick="startMarineQuiz()">
                    <div class="feature-icon">🧠</div>
                    <div class="feature-title">Ocean Quiz</div>
                    <div class="feature-description">
                        Test how much you know about sea animals! 
                        Answer fun questions and learn cool facts!
                    </div>
                </div>
                
                <div class="feature-card" onclick="startOceanExplorer()">
                    <div class="feature-icon">🌊</div>
                    <div class="feature-title">Ocean Explorer</div>
                    <div class="feature-description">
                        Dive deep into the ocean and meet amazing creatures 
                        that live in different parts of the sea!
                    </div>
                </div>
                
                <div class="feature-card" onclick="startConservationGame()">
                    <div class="feature-icon">🌱</div>
                    <div class="feature-title">Save the Ocean Game</div>
                    <div class="feature-description">
                        Play fun missions to help protect the ocean and 
                        learn how to keep our seas clean and healthy!
                    </div>
                </div>
            </div>
        </div>
    </section>
    
    <!-- Features Section -->
    <section class="features-section">
        <div class="content">
            <h2>🌟 Why Kids Love AquaTrace AI!</h2>
            <p>Learn about sea animals with cool technology and fun activities!</p>
            
            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon">🤖</div>
                    <div class="feature-title">Smart AI Helper</div>
                    <div class="feature-description">
                        Our super-smart computer can recognize thousands of sea animals! 
                        Just show it a picture and it tells you what it is!
                    </div>
                </div>
                
                <div class="feature-card">
                    <div class="feature-icon">⚡</div>
                    <div class="feature-title">Super Fast Results</div>
                    <div class="feature-description">
                        Get answers in seconds! Learn the animal's name, where it lives, 
                        what it eats, and lots of cool facts!
                    </div>
                </div>
                
                <div class="feature-card">
                    <div class="feature-icon">🌍</div>
                    <div class="feature-title">Animals from Everywhere</div>
                    <div class="feature-description">
                        Discover sea creatures from all around the world! 
                        From tiny fish to giant whales!
                    </div>
                </div>
                
                <div class="feature-card">
                    <div class="feature-icon">📊</div>
                    <div class="feature-title">Help Save Animals</div>
                    <div class="feature-description">
                        Learn which animals need our help and how you can 
                        protect the ocean and keep it safe!
                    </div>
                </div>
                
                <div class="feature-card">
                    <div class="feature-icon">🔬</div>
                    <div class="feature-title">Real Science</div>
                    <div class="feature-description">
                        All our information comes from real scientists who study 
                        the ocean, so you're learning true facts!
                    </div>
                </div>
                
                <div class="feature-card">
                    <div class="feature-icon">📱</div>
                    <div class="feature-title">Easy to Use</div>
                    <div class="feature-description">
                        Works on phones, tablets, and computers! 
                        Perfect for curious kids who love learning!
                    </div>
                </div>
            </div>
        </div>
    </section>
    
    <!-- Statistics Section -->
    <section class="stats-section">
        <div class="content">
            <h2>📈 Our Impact</h2>
            <p>Join thousands of users contributing to marine science and conservation.</p>
            
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number" id="totalSpecies">6500+</div>
                    <div class="stat-label">Marine Species</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="accuracyRate">95%</div>
                    <div class="stat-label">Accuracy Rate</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="totalUsers">0+</div>
                    <div class="stat-label">Real Users</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="totalIdentifications">0+</div>
                    <div class="stat-label">Identifications</div>
                </div>
            </div>
        </div>
    </section>
    
    <!-- Conservation Section -->
    <section class="conservation-section">
        <div class="content">
            <div class="conservation-content">
                <div class="conservation-text">
                    <h3>🌊 Protecting Our Oceans Together</h3>
                    <p>
                        Marine biodiversity is under unprecedented threat from climate change, 
                        overfishing, and pollution. By identifying and documenting marine species, 
                        you're contributing to vital conservation efforts.
                    </p>
                    <p>
                        Our platform helps researchers track species distributions, monitor 
                        population changes, and identify areas that need protection. Every 
                        identification adds to our understanding of marine ecosystems.
                    </p>
                    <p>
                        Join citizen scientists around the world in documenting marine life 
                        and supporting conservation initiatives that protect our oceans for future generations.
                    </p>
                </div>
                <div class="conservation-image">🐋</div>
            </div>
        </div>
    </section>
    
    <!-- Technology Section -->
    <section class="technology-section">
        <div class="content">
            <h2>🔬 Advanced Technology</h2>
            <p>Powered by cutting-edge AI and machine learning for accurate marine species identification.</p>
            
            <div class="tech-grid">
                <div class="tech-card">
                    <div class="tech-icon">🧠</div>
                    <div class="tech-title">Deep Learning</div>
                    <div class="tech-description">
                        Convolutional Neural Networks trained on millions of marine images
                    </div>
                </div>
                
                <div class="tech-card">
                    <div class="tech-icon">🖼️</div>
                    <div class="tech-title">Computer Vision</div>
                    <div class="tech-description">
                        Advanced image processing and feature extraction algorithms
                    </div>
                </div>
                
                <div class="tech-card">
                    <div class="tech-icon">📚</div>
                    <div class="tech-title">Scientific Database</div>
                    <div class="tech-description">
                        Comprehensive database with verified species information
                    </div>
                </div>
                
                <div class="tech-card">
                    <div class="tech-icon">☁️</div>
                    <div class="tech-title">Cloud Computing</div>
                    <div class="tech-description">
                        Scalable infrastructure for fast and reliable processing
                    </div>
                </div>
            </div>
        </div>
    </section>
    
    <!-- Call to Action Section -->
    <section class="cta-section">
        <div class="content">
            <h2>🚀 Ready to Explore the Ocean?</h2>
            <p>Start identifying marine species and contribute to ocean conservation today.</p>
            <a href="#upload" class="cta-button" onclick="scrollToUpload()">Start Identifying Now</a>
        </div>
    </section>
    
    <!-- Quiz Container -->
    <div class="quiz-container" id="quizContainer">
        <button class="quiz-close" onclick="closeQuiz()">✕</button>
        <div class="quiz-content">
            <div class="quiz-score" id="quizScore">Score: 0/0</div>
            <div class="quiz-question" id="quizQuestion">Loading question...</div>
            <div class="quiz-options" id="quizOptions">
                <!-- Options will be populated by JavaScript -->
            </div>
        </div>
    </div>
    
    <footer> 2025 AquaTrace AI — Discover the Ocean 🌊 | <span style="color: #00d4ff; text-shadow: 0 0 10px rgba(0,212,255,0.6); font-weight: 600;">Made by Aashna</span></footer>
    
    <script>
        // Auto-hide flash messages after 1 minute (60 seconds)
        document.addEventListener('DOMContentLoaded', function() {
            const flashMessages = document.querySelectorAll('.flash-message');
            flashMessages.forEach(function(message) {
                // Auto-hide after 60 seconds (1 minute)
                setTimeout(function() {
                    message.style.transition = 'opacity 0.5s ease, transform 0.5s ease';
                    message.style.opacity = '0';
                    message.style.transform = 'translateX(100%)';
                    setTimeout(function() {
                        if (message.parentNode) {
                            message.parentNode.removeChild(message);
                        }
                    }, 500);
                }, 60000); // 60 seconds
            });
        });
        
        // Real-time Statistics
        function updateStats() {
            fetch('/api/stats')
                .then(response => response.json())
                .then(data => {
                    if (data.total_identifications !== undefined) {
                        document.getElementById('totalIdentifications').textContent = data.total_identifications.toLocaleString() + '+';
                        document.getElementById('totalUsers').textContent = data.total_users.toLocaleString() + '+';
                        document.getElementById('totalSpecies').textContent = '6500+';
                        document.getElementById('accuracyRate').textContent = '95%';
                    }
                })
                .catch(error => {
                    console.error('Error fetching stats:', error);
                    // Set default values if API fails
                    document.getElementById('totalIdentifications').textContent = '1000+';
                    document.getElementById('totalUsers').textContent = '500+';
                    document.getElementById('totalSpecies').textContent = '6500+';
                    document.getElementById('accuracyRate').textContent = '95%';
                });
        }
        
        // Update stats immediately and then every 30 seconds
        updateStats();
        setInterval(updateStats, 30000);
        
        // Quiz functionality
        let currentQuestion = 0;
        let score = 0;
        let quizData = [
            {
                question: "Which marine animal is known as the 'gentle giant' of the ocean?",
                options: ["Great White Shark", "Blue Whale", "Killer Whale", "Giant Squid"],
                correct: 1
            },
            {
                question: "What is the largest living structure on Earth?",
                options: ["Great Barrier Reef", "Mount Everest", "Amazon Rainforest", "Sahara Desert"],
                correct: 0
            },
            {
                question: "Which fish can change its gender during its lifetime?",
                options: ["Clownfish", "Tuna", "Salmon", "All of the above"],
                correct: 0
            },
            {
                question: "How much of Earth's oxygen is produced by marine plants?",
                options: ["20%", "50%", "70%", "90%"],
                correct: 1
            },
            {
                question: "Which marine animal has the longest migration?",
                options: ["Humpback Whale", "Leatherback Turtle", "Arctic Tern", "Blue Whale"],
                correct: 2
            }
        ];
        
        function startMarineQuiz() {
            currentQuestion = 0;
            score = 0;
            document.getElementById('quizContainer').style.display = 'flex';
            showQuestion();
        }
        
        function showQuestion() {
            if (currentQuestion >= quizData.length) {
                showQuizResults();
                return;
            }
            
            const question = quizData[currentQuestion];
            document.getElementById('quizQuestion').textContent = question.question;
            document.getElementById('quizScore').textContent = `Score: ${score}/${currentQuestion}`;
            
            const optionsContainer = document.getElementById('quizOptions');
            optionsContainer.innerHTML = '';
            
            question.options.forEach((option, index) => {
                const optionDiv = document.createElement('div');
                optionDiv.className = 'quiz-option';
                optionDiv.textContent = option;
                optionDiv.onclick = () => selectAnswer(index);
                optionsContainer.appendChild(optionDiv);
            });
        }
        
        function selectAnswer(selectedIndex) {
            const question = quizData[currentQuestion];
            const options = document.querySelectorAll('.quiz-option');
            
            options.forEach((option, index) => {
                if (index === question.correct) {
                    option.classList.add('correct');
                } else if (index === selectedIndex && index !== question.correct) {
                    option.classList.add('incorrect');
                }
                option.onclick = null; // Disable further clicks
            });
            
            if (selectedIndex === question.correct) {
                score++;
            }
            
            setTimeout(() => {
                currentQuestion++;
                showQuestion();
            }, 2000);
        }
        
        function showQuizResults() {
            const percentage = Math.round((score / quizData.length) * 100);
            document.getElementById('quizQuestion').textContent = `Quiz Complete! You scored ${score}/${quizData.length} (${percentage}%)`;
            document.getElementById('quizOptions').innerHTML = `
                <div style="text-align: center; margin-top: 20px;">
                    <button onclick="startMarineQuiz()" style="background: #00d4ff; color: white; border: none; padding: 15px 30px; border-radius: 10px; cursor: pointer; margin: 10px;">Try Again</button>
                    <button onclick="closeQuiz()" style="background: rgba(255,255,255,0.2); color: white; border: none; padding: 15px 30px; border-radius: 10px; cursor: pointer; margin: 10px;">Close</button>
                </div>
            `;
        }
        
        function closeQuiz() {
            document.getElementById('quizContainer').style.display = 'none';
        }
        
        function startOceanExplorer() {
            window.location.href = '/ocean-explorer';
        }
        
        function startConservationGame() {
            window.location.href = '/save-ocean-game';
        }
        
        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: ${type === 'success' ? 'rgba(34, 197, 94, 0.9)' : 
                           type === 'error' ? 'rgba(239, 68, 68, 0.9)' : 
                           'rgba(0, 212, 255, 0.9)'};
                color: white;
                padding: 15px 20px;
                border-radius: 10px;
                z-index: 1001;
                backdrop-filter: blur(10px);
                border: 1px solid rgba(255, 255, 255, 0.2);
                animation: slideIn 0.3s ease;
            `;
            notification.textContent = message;
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.animation = 'slideOut 0.3s ease';
                setTimeout(() => {
                    if (document.body.contains(notification)) {
                        document.body.removeChild(notification);
                    }
                }, 300);
            }, 3000);
        }
        // File upload functionality
        const uploadArea = document.getElementById('uploadArea');
        const fileInput = document.getElementById('imageUpload');
        const uploadForm = document.getElementById('uploadForm');
        const identifyBtn = document.getElementById('identifyBtn');
        
        uploadArea.addEventListener('click', () => {
            fileInput.click();
        });
        
        uploadArea.addEventListener('dragover', (e) => {
            e.preventDefault();
            uploadArea.classList.add('dragover');
        });
        
        uploadArea.addEventListener('dragleave', () => {
            uploadArea.classList.remove('dragover');
        });
        
        uploadArea.addEventListener('drop', (e) => {
            e.preventDefault();
            uploadArea.classList.remove('dragover');
            const files = e.dataTransfer.files;
            if (files.length > 0) {
                fileInput.files = files;
                handleFileSelect();
            }
        });
        
        fileInput.addEventListener('change', handleFileSelect);
        
        function handleFileSelect() {
            const file = fileInput.files[0];
            if (file) {
                // Show preview
                const reader = new FileReader();
                reader.onload = function(e) {
                    uploadArea.innerHTML = `
                        <img src="${e.target.result}" style="max-width: 100%; max-height: 150px; border-radius: 8px;">
                        <div class="upload-text">
                            <strong>${file.name}</strong><br>
                            <small>Click to change</small>
                        </div>
                    `;
                };
                reader.readAsDataURL(file);
                
                // Capture geolocation
                if (navigator.geolocation) {
                    navigator.geolocation.getCurrentPosition(
                        function(position) {
                            document.getElementById('latitude').value = position.coords.latitude;
                            document.getElementById('longitude').value = position.coords.longitude;
                            console.log('Geolocation captured:', position.coords.latitude, position.coords.longitude);
                        },
                        function(error) {
                            console.log('Geolocation denied or unavailable:', error.message);
                            // Set empty values if denied
                            document.getElementById('latitude').value = '';
                            document.getElementById('longitude').value = '';
                        },
                        {
                            enableHighAccuracy: true,
                            timeout: 10000,
                            maximumAge: 60000
                        }
                    );
                } else {
                    console.log('Geolocation not supported');
                }
                
                // Show identify button
                identifyBtn.style.display = 'inline-block';
            }
        }
        
        // Scroll to upload function
        function scrollToUpload() {
            const uploadSection = document.getElementById('upload');
            if (uploadSection) {
                uploadSection.scrollIntoView({
                    behavior: 'smooth',
                    block: 'start'
                });
            }
        }
        
        // Smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });
        
        // Add scroll animations
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };
        
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.opacity = '1';
                    entry.target.style.transform = 'translateY(0)';
                }
            });
        }, observerOptions);
        
        // Observe all feature cards and stat cards
        document.querySelectorAll('.feature-card, .stat-card, .tech-card').forEach(card => {
            card.style.opacity = '0';
            card.style.transform = 'translateY(30px)';
            card.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
            observer.observe(card);
        });
        
        // Scroll to upload section function
        function scrollToUpload() {
            const uploadSection = document.querySelector('.upload-section');
            if (uploadSection) {
                uploadSection.scrollIntoView({
                    behavior: 'smooth',
                    block: 'start'
                });
            }
        }
        
        // Initialize everything when page loads
        document.addEventListener('DOMContentLoaded', function() {
            initTheme();
            updateStats(); // Load initial stats
        });
    </script>
</body>
</html>
